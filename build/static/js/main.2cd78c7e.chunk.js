(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(3),u=n(0),a=n(2),r=n(14),o=n.n(r),i=n(4),s=n.n(i),l="/api/persons",j=function(){return s.a.get(l).then((function(e){return e.data}))},b=function(e){return s.a.post(l,e).then((function(e){return e.data}))},d=function(e){return s.a.delete("".concat(l,"/").concat(e)).then((function(e){return e.data}))},h=(n(38),function(e){var t=e.text;return Object(u.jsx)("h2",{children:t})}),f=function(e){return Object(u.jsx)("button",{onClick:e.handleClick,children:e.text})},O=function(e){var t=e.persons,n=e.handleDeletion;return Object(u.jsx)(u.Fragment,{children:t.map((function(e,t){return Object(u.jsxs)("p",{children:[e.name," ",e.number,Object(u.jsx)(f,{handleClick:function(){return t=e.id,c=e.name,void(window.confirm("Delete '".concat(c,"' ?"))&&d(t).then(n(c)));var t,c},text:"delete"})]},t)}))})},m=function(e){return Object(u.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},x=function(e){var t=e.message;return null===t?null:Object(u.jsx)("div",{className:"error",children:t})},v=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(c.a)(o,2),s=i[0],l=i[1],d=Object(a.useState)(""),f=Object(c.a)(d,2),v=f[0],p=f[1],g=Object(a.useState)(null),w=Object(c.a)(g,2),N=w[0],C=w[1],S=Object(a.useState)(new Date),k=Object(c.a)(S,2),D=k[0],y=k[1];Object(a.useEffect)((function(){j().then((function(e){r(e)}))}),[D]);var E=function(e){C(e),setTimeout((function(){C(null)}),5e3)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{text:"Phonebook"}),Object(u.jsx)(x,{message:N}),Object(u.jsx)(m,{onSubmit:function(e){e.preventDefault(),b({name:s,number:v}).then((function(e){r(n.concat(e)),E("".concat(s," added"))})),l(""),p("")},newName:s,newNumber:v,handleNameChange:function(e){console.log(e.target.value),l(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),p(e.target.value)}}),Object(u.jsx)(h,{text:"Numbers"}),Object(u.jsx)(O,{persons:n,handleDeletion:function(e){j().then((function(e){r(e),y(new Date)})),E("".concat(e," deleted"))}})]})};o.a.render(Object(u.jsx)(v,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.2cd78c7e.chunk.js.map